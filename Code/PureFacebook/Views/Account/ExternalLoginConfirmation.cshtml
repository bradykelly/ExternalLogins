@model PureFacebook.Models.AccountViewModels.ExternalLoginConfirmationViewModel
@{
    ViewData["Title"] = "Register";
}

<h2>Associate your @ViewData["LoginProvider"] account.</h2>

@*NOTE Really crappy style, but progress first.*@
<div class="help">If you have an existing account with us, please login with it below and it will be automatically linked to this Facebook login. You can then use just Facebook here in future.</div>
<div class="help">If you do not have an existing account, your can click this link to @Html.ActionLink("our registration page", "Register", "Account"), or use the <strong>Register</strong> link at the top right of the screen.</div>
    <div class="row">
        <div class="col-md-6">
            <form asp-controller="Account" asp-action="Register" method="post" class="form-horizontal"></form>
        </div>
        <div class="col-md-6">

        </div>
    </div>

    <form asp-controller="Account" asp-action="ExternalLoginConfirmation" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal">
        <h4>Login Details</h4>
        <hr />
        <div asp-validation-summary="All" class="text-danger"></div>
        <div class="form-group">
            <label asp-for="Email" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Email" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button type="submit" class="btn btn-success">Link</button>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button type="submit" class="btn btn-caution">Cancel</button>
            </div>
        </div>
    </form>

    @section Scripts {
        @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
    }
